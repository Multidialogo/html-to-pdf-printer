version: 0.1

default:
  deploy:
    parameters:
      image_repository: ${SAM_REGISTRY}
      tags: application=multipay-gate role=api-controller environment=stage
      stack_name: $STACK_NAME
      confirm_changeset: false
      capabilities: CAPABILITY_NAMED_IAM
      fail_on_empty_changeset: false
      parameter_overrides:
        - FunctionName=${FUNCTION_NAME}
        - Environment=${ENVIRONMENT}
        - Memory=${MEMORY}
        - Subnets=${SUBNETS}
        - Timeout=${TIMEOUT}